(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2855:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(5155),l=t(2115);let i=()=>["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=()=>{let e=[];return[{letter:"A",filename:"A_01_Hickman_ Kentucky.jpg",description:"Hickman, Kentucky"},{letter:"A",filename:"A_02_Farm Island_ Maine.jpg",description:"Farm Island, Maine"},{letter:"A",filename:"A_03_Lake Guakhmaz_ Azerbaijan.jpg",description:"Lake Guakhmaz, Azerbaijan"},{letter:"A",filename:"A_04_Yukon Delta_ Alaska.jpg",description:"Yukon Delta, Alaska"},{letter:"A",filename:"A_05_Lake Mj\xf8sa_ Norway.jpg",description:"Lake Mj\xf8sa, Norway"},{letter:"B",filename:"B_01_Holla Bend_ Arkansas.jpg",description:"Holla Bend, Arkansas"},{letter:"B",filename:"B_02_Humait\xe1_ Brazil.jpg",description:"Humait\xe1, Brazil"},{letter:"C",filename:"C_01_Black Rock Desert_ Nevada.jpg",description:"Black Rock Desert, Nevada"},{letter:"C",filename:"C_02_Deception_ Island_ Antarctica.jpg",description:"Deception Island, Antarctica"},{letter:"C",filename:"C_03_False River_ Louisiana.jpg",description:"False River, Louisiana"},{letter:"D",filename:"D_01_Akimiski Island_ Canada.jpg",description:"Akimiski Island, Canada"},{letter:"D",filename:"D_02_Lake Tandou_ Australia.jpg",description:"Lake Tandou, Australia"},{letter:"E",filename:"E_01_Firn-filled Fjords_ Tibet.jpg",description:"Firn-filled Fjords, Tibet"},{letter:"E",filename:"E_02_Sea of Okhotsk.jpg",description:"Sea of Okhotsk"},{letter:"E",filename:"E_03_Bellona Plateau.jpg",description:"Bellona Plateau"},{letter:"E",filename:"E_04_Brei\xf0amerkurj\xf6kull_ Iceland.jpg",description:"Brei\xf0amerkurj\xf6kull, Iceland"},{letter:"F",filename:"F_01_Mato Grosso_ Brazil.jpg",description:"Mato Grosso, Brazil"},{letter:"F",filename:"F_02_Kruger National Park_ South Africa.jpg",description:"Kruger National Park, South Africa"},{letter:"G",filename:"G_01_Fonte Boa_ Amazonas.jpg",description:"Fonte Boa, Amazonas"},{letter:"H",filename:"H_01_Southwestern Kyrgyzstan.jpg",description:"Southwestern Kyrgyzstan"},{letter:"H",filename:"H_02_Khorinsky District_ Russia.jpg",description:"Khorinsky District, Russia"},{letter:"I",filename:"I_01_Borgarbygg\xf0_ Iceland.jpg",description:"Borgarbygg\xf0, Iceland"},{letter:"I",filename:"I_02_Canandaigua Lake_ New York.jpg",description:"Canandaigua Lake, New York"},{letter:"I",filename:"I_03_Etosha National Park_ Namibia.jpg",description:"Etosha National Park, Namibia"},{letter:"I",filename:"I_04_Djebel Ouarkziz_ Morocco.jpg",description:"Djebel Ouarkziz, Morocco"},{letter:"I",filename:"I_05_Holuhraun Ice Field_ iceland.jpg",description:"Holuhraun Ice Field, Iceland"},{letter:"J",filename:"J_01_Great Barrier Reef.jpg",description:"Great Barrier Reef"},{letter:"J",filename:"J_02_Karakaya Dam_ Turkey.jpg",description:"Karakaya Dam, Turkey"},{letter:"J",filename:"J_03_Lake Superior_ North America.jpg",description:"Lake Superior, North America"},{letter:"K",filename:"K_01_Sirmilik National Park_ Canada.jpg",description:"Sirmilik National Park, Canada"},{letter:"K",filename:"K_02_Golmund_ China.jpg",description:"Golmund, China"},{letter:"L",filename:"L_01_Nusantara_ Indonesia.jpg",description:"Nusantara, Indonesia"},{letter:"L",filename:"L_02_l-xingjiang-china.jpg",description:"Xinjiang, China"},{letter:"L",filename:"L_03_Regina_ Saskatchewan_ Canada.jpg",description:"Regina, Saskatchewan, Canada"},{letter:"L",filename:"L_04_Regina_ Saskatchewan_ Canada.jpg",description:"Regina, Saskatchewan, Canada"},{letter:"M",filename:"M_01_Shenandoah River_ Virginia.jpg",description:"Shenandoah River, Virginia"},{letter:"M",filename:"M_02_Potomac River.jpg",description:"Potomac River"},{letter:"N",filename:"N_01_Yapacani_ Bolivia.jpg",description:"Yapacani, Bolivia"},{letter:"N",filename:"N_02_Yapacani_ Bolivia.jpg",description:"Yapacani, Bolivia"},{letter:"N",filename:"N_03_S\xe3o Miguel do Araguaia_ Brazil.jpg",description:"S\xe3o Miguel do Araguaia, Brazil"},{letter:"O",filename:"O_01_Crater Lake_ Oregon.jpg",description:"Crater Lake, Oregon"},{letter:"O",filename:"O_02_Manicouagan Reservoir.jpg",description:"Manicouagan Reservoir"},{letter:"P",filename:"P_01_Riberalta_ Bolivia.jpg",description:"Riberalta, Bolivia"},{letter:"P",filename:"P_02_Mackenzie River Delta_ Canada.jpg",description:"Mackenzie River Delta, Canada"},{letter:"Q",filename:"Q_01_Lonar Crater_ India.jpg",description:"Lonar Crater, India"},{letter:"Q",filename:"Q_02_Mount Tambora_ Indonesia.jpg",description:"Mount Tambora, Indonesia"},{letter:"R",filename:"R_01_Province of Sondrio_ Italy.jpg",description:"Province of Sondrio, Italy"},{letter:"R",filename:"R_02_r-florida-keys.jpg",description:"Florida Keys"},{letter:"R",filename:"R_03_Canyonlands National Park_ Utah.jpg",description:"Canyonlands National Park, Utah"},{letter:"R",filename:"R_04_Lago Menendez_ Argentina.jpg",description:"Lago Menendez, Argentina"},{letter:"S",filename:"S_01_Mackenzie River.jpg",description:"Mackenzie River"},{letter:"S",filename:"S_02_N_Djamena_ Chad.jpg",description:"N'Djamena, Chad"},{letter:"S",filename:"S_03_Rio Chapare_ Bolivia.jpg",description:"Rio Chapare, Bolivia"},{letter:"T",filename:"T_01_Liwa_ United Arab Emirates.jpg",description:"Liwa, United Arab Emirates"},{letter:"T",filename:"T_02_Lena River Delta.jpg",description:"Lena River Delta"},{letter:"U",filename:"U_01_Canyonlands National Park_ Utah.jpg",description:"Canyonlands National Park, Utah"},{letter:"U",filename:"U_02_Bamforth Wildlife Refuge_ Wyoming.jpg",description:"Bamforth Wildlife Refuge, Wyoming"},{letter:"V",filename:"V_01_Cellina and Meduna Rivers_ Italy.jpg",description:"Cellina and Meduna Rivers, Italy"},{letter:"V",filename:"V_02_New South Wales_ Australia.jpg",description:"New South Wales, Australia"},{letter:"V",filename:"V_03_Padma River_ Bangladesh.jpg",description:"Padma River, Bangladesh"},{letter:"V",filename:"V_04_Mapleton_ Maine.jpg",description:"Mapleton, Maine"},{letter:"W",filename:"W_01_La Primavera_ Columbia.jpg",description:"La Primavera, Columbia"},{letter:"W",filename:"W_02_Ponoy River_ Russia.jpg",description:"Ponoy River, Russia"},{letter:"X",filename:"X_01_Davis Strait_ Greenland.jpg",description:"Davis Strait, Greenland"},{letter:"X",filename:"X_02_x-sermersooqMunicipality-greenland.jpg",description:"Sermersooq Municipality, Greenland"},{letter:"X",filename:"X_03_Wolstenholme Fjord_ Greenland.jpg",description:"Wolstenholme Fjord, Greenland"},{letter:"Y",filename:"Y_01_Estuario de Virrila_ Peru.jpg",description:"Estuario de Virrila, Peru"},{letter:"Y",filename:"Y_02_B\xedob\xedo River_ Chile.jpg",description:"B\xedob\xedo River, Chile"},{letter:"Y",filename:"Y_03_Ramsay_ New Zealand.jpg",description:"Ramsay, New Zealand"},{letter:"Z",filename:"Z_01_Primavera do Leste_ Brazil.jpg",description:"Primavera do Leste, Brazil"},{letter:"Z",filename:"Z_02_Mohammed Boudiaf_ Algeria.jpg",description:"Mohammed Boudiaf, Algeria"}].forEach(a=>{var t;let r=(null==(t=a.filename.match(/_(\d+)_/))?void 0:t[1])||"01";e.push({id:"".concat(a.letter.toLowerCase(),"-").concat(r),name:"".concat(a.letter).concat(r),src:"landsat_images/".concat(a.letter,"/").concat(a.filename),letter:a.letter,description:a.description})}),e.sort((e,a)=>e.letter.localeCompare(a.letter)||e.name.localeCompare(a.name))},s=e=>new Promise((a,t)=>{let r=new Image;r.crossOrigin="anonymous",r.onload=()=>a(r),r.onerror=t,r.src=e}),o=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(0===e.length)return"";try{let t=(await Promise.all(e.map(s))).map(e=>{let t=e.width/e.height;return{img:e,width:Math.round(a*t),height:a}}),r=t.reduce((e,a)=>{let{width:t}=a;return e+t},0),l=document.createElement("canvas");l.width=r,l.height=a;let i=l.getContext("2d",{alpha:!1});if(!i)throw Error("Could not get canvas context");i.fillStyle="#FFFFFF",i.fillRect(0,0,r,a),i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="medium";let n=0;return t.forEach(e=>{let{img:a,width:t,height:r}=e;i.drawImage(a,n,0,t,r),n+=t}),l.toDataURL("image/jpeg",a<=300?.8:.9)}catch(e){throw console.error("Error in concatenateImages:",e),e}},d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"concatenated-image.png",t=document.createElement("a");t.download=a,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)};var c=t(6766);function m(e){let{images:a,selectedImages:t,onImageSelect:l}=e,i=e=>t.filter(a=>a.id===e).length,n=e=>t.some(a=>a.id===e);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Landsat Images"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Click on any image to add it to your selection. Click on already selected images to replace them. Use the alphabet filter above to narrow down your choices."}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:a.map(e=>{let a=n(e.id),t=i(e.id);return(0,r.jsxs)("div",{className:"group relative cursor-pointer rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 ".concat(a?"ring-3 ring-emerald-400 shadow-xl shadow-emerald-100":"hover:shadow-lg border border-gray-200 hover:border-gray-300"),onClick:()=>l(e),children:[a&&(0,r.jsx)("div",{className:"absolute top-3 left-3 z-20 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full min-w-8 h-8 flex items-center justify-center text-sm font-bold shadow-lg px-2 border-2 border-white",children:t}),(0,r.jsx)("div",{className:"absolute top-3 right-3 z-20 backdrop-blur-sm rounded-full w-7 h-7 flex items-center justify-center text-lg font-bold shadow-md opacity-0 group-hover:opacity-100 transition-all duration-200 border ".concat(a?"bg-orange-500/90 text-white border-orange-300":"bg-white/90 text-emerald-600 border-emerald-200"),children:a?"↻":"+"}),(0,r.jsxs)("div",{className:"relative aspect-square overflow-hidden transition-all duration-300 ".concat(a?"brightness-110":"group-hover:brightness-105"),children:[(0,r.jsx)(c.default,{src:e.src,alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110",sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 16vw"}),a&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/20 via-transparent to-teal-400/20 pointer-events-none"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),(0,r.jsxs)("div",{className:"p-3 transition-colors duration-300 ".concat(a?"bg-gradient-to-r from-emerald-50 to-teal-50":"bg-white"),children:[(0,r.jsx)("p",{className:"text-sm font-medium text-center truncate transition-colors duration-300 ".concat(a?"text-emerald-800":"text-gray-700"),children:e.name}),(0,r.jsx)("p",{className:"text-xs text-center truncate mt-1 transition-colors duration-300 ".concat(a?"text-emerald-600":"text-gray-500"),children:e.description})]}),a&&(0,r.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400 to-teal-400 opacity-20 pointer-events-none animate-pulse"})]},e.id)})}),0===a.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No images found. Make sure the landsat images are in the public/landsat_images folder."})})]})}function g(e){let{imageUrl:a,isProcessing:t=!1,selectedCount:l=0}=e;return a||t?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:["Live Preview ",l>0&&"(".concat(l," images)"),t&&(0,r.jsx)("span",{className:"ml-2 text-sm text-emerald-600 font-normal",children:"Updating..."})]}),(0,r.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden bg-gray-50 relative",children:[t&&(0,r.jsx)("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),(0,r.jsx)("span",{className:"text-gray-600 text-sm",children:"Updating preview..."})]})}),a?(0,r.jsx)("div",{className:"relative w-full transition-opacity duration-200 ".concat(t?"opacity-50":"opacity-100"),children:(0,r.jsx)("img",{src:a,alt:"Live preview of concatenated landsat images",className:"w-full h-auto max-h-96 object-contain"})}):(0,r.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Generating preview..."})]})})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,r.jsx)("p",{children:"✓ Preview updates automatically as you select images"}),(0,r.jsx)("p",{children:'✓ Click "Download High-Res" to save a higher quality version'})]})]}):null}function h(e){let{selectedImages:a,onReorder:t,onRemove:i,onReplace:n,isProcessing:s=!1}=e,[o,d]=(0,l.useState)(null),m=(e,a)=>{e.dataTransfer.setData("text/plain",a),e.dataTransfer.effectAllowed="move",d(a)},g=()=>{d(null)},h=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},p=(e,a)=>{e.preventDefault();let r=e.dataTransfer.getData("text/plain");r!==a&&t(r,a),d(null)},x=(e,a)=>{n&&!a.target.closest("button")&&n(e)};return 0===a.length?null:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:["Selected Images Preview (drag to reorder",n?", click to replace":"",")",s&&(0,r.jsx)("span",{className:"ml-2 text-sm text-emerald-600 font-normal",children:"Updating..."})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-4 mb-4",children:a.map(e=>(0,r.jsxs)("div",{draggable:!0,onDragStart:a=>m(a,e.selectionId),onDragEnd:g,onDragOver:h,onDrop:a=>p(a,e.selectionId),onClick:a=>x(e,a),className:"relative group transition-all duration-200 hover:shadow-lg hover:scale-105 ".concat(o===e.selectionId?"border-emerald-500 shadow-xl scale-105 opacity-75":"border-emerald-200 hover:border-emerald-400"," ").concat(n?"cursor-pointer bg-white rounded-lg border-2":"cursor-move bg-white rounded-lg border-2"),title:n?"Drag to reorder or click to replace":"Drag to reorder",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-white/90 backdrop-blur-sm text-emerald-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shadow-sm",children:"⋮⋮"}),n&&(0,r.jsx)("div",{className:"absolute bottom-2 left-2 z-10 bg-orange-500/90 backdrop-blur-sm text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"↻"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 z-10 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shadow-lg",children:e.selectionOrder}),(0,r.jsx)("button",{onClick:()=>i(e.selectionId),className:"absolute top-8 right-2 z-10 bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove this image",children:"\xd7"}),(0,r.jsx)("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden",children:(0,r.jsx)(c.default,{src:e.src,alt:e.description,fill:!0,className:"object-cover",sizes:"96px"})}),(0,r.jsx)("div",{className:"p-2 text-center",children:(0,r.jsx)("p",{className:"text-xs font-medium text-gray-700 truncate",children:e.name})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-emerald-400/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg pointer-events-none"})]},e.selectionId))}),(0,r.jsx)("div",{className:"text-sm text-gray-600 bg-gray-50 rounded-lg p-3",children:(0,r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-emerald-600",children:"\uD83D\uDCA1"}),(0,r.jsx)("strong",{children:"Tip:"})," Drag and drop the image thumbnails above to change their order in the final concatenated image.",n&&(0,r.jsx)("span",{children:" Click on any image to replace it with another image of the same letter."})]})})]})}function p(e){let{allImages:a,onGenerateFromText:t,isProcessing:i=!1}=e,[n,s]=(0,l.useState)(""),o=new Set(a.map(e=>e.letter)),d=(e=>{let a=e.toUpperCase().replace(/\s/g,"").split(""),t=a.filter(e=>!o.has(e));return{totalLetters:a.length,availableCount:a.length-t.length,unavailableLetters:[...new Set(t)]}})(n),c=n.trim().length>0&&0===d.unavailableLetters.length;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Generate from Text"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Enter text to automatically generate a concatenated image. Each letter will be randomly selected from available Landsat images."}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&t(n.trim().toUpperCase())},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",value:n,onChange:e=>{s(e.target.value.replace(/[^a-zA-Z\s]/g,""))},placeholder:"Enter text (letters only)...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 text-lg text-gray-900 placeholder-gray-500",disabled:i,maxLength:20}),n&&(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:["Letters: ",d.totalLetters," | Available: ",d.availableCount]}),(0,r.jsxs)("span",{className:"text-gray-500",children:[n.length,"/20"]})]}),d.unavailableLetters.length>0&&(0,r.jsxs)("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200",children:[(0,r.jsx)("strong",{children:"Unavailable letters:"})," ",d.unavailableLetters.join(", "),(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-xs",children:"These letters don't have available Landsat images."})]}),c&&(0,r.jsx)("div",{className:"text-sm text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg border border-emerald-200",children:"✓ Ready to generate! All letters have available images."})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{type:"submit",disabled:!c||i,className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-lg transition-all duration-200 font-medium shadow-md hover:shadow-lg disabled:cursor-not-allowed",children:i?"Generating...":"Generate Images"}),n&&(0,r.jsx)("button",{type:"button",onClick:()=>s(""),className:"px-4 py-3 text-sm bg-white hover:bg-gray-50 border border-gray-300 hover:border-gray-400 text-gray-700 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Clear"})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Letters:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:Array.from(o).sort().map(e=>(0,r.jsx)("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-800 rounded text-xs font-medium",children:e},e))})]})]})}function x(e){let{isOpen:a,onClose:t,targetImage:i,availableImages:n,onReplace:s}=e,[o,d]=(0,l.useState)(null);if((0,l.useEffect)(()=>{a||d(null)},[a]),!a||!i)return null;let c=n.filter(e=>e.letter===i.letter);return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-teal-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Replace Image: ",i.name]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:['Choose a different "',i.letter,'" image to replace the current selection']})]}),(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:"\xd7"})]})}),(0,r.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Image:"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("img",{src:i.src,alt:i.description,className:"w-20 h-20 object-cover rounded-lg border-2 border-emerald-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-800",children:i.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:i.description}),(0,r.jsxs)("p",{className:"text-xs text-emerald-600 mt-1",children:["Position #",i.selectionOrder]})]})]})]}),(0,r.jsxs)("div",{className:"px-6 py-4 flex-1 overflow-y-auto",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:['Choose Replacement (Letter "',i.letter,'" - ',c.length," available):"]}),0===c.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,r.jsxs)("p",{children:['No other images available for letter "',i.letter,'"']})}):(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:c.map(e=>(0,r.jsxs)("div",{className:"cursor-pointer rounded-lg border-2 transition-all duration-200 ".concat((null==o?void 0:o.id)===e.id?"border-emerald-500 bg-emerald-50 shadow-lg scale-105":e.id===i.id?"border-gray-300 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-emerald-300 hover:shadow-md hover:scale-102"),onClick:()=>{e.id!==i.id&&d(e)},children:[(0,r.jsx)("img",{src:e.src,alt:e.description,className:"w-full h-24 object-cover rounded-t-lg"}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("p",{className:"font-medium text-sm text-gray-800 truncate",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.description}),e.id===i.id&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1 italic",children:"Current selection"}),(null==o?void 0:o.id)===e.id&&(0,r.jsx)("p",{className:"text-xs text-emerald-600 mt-1 font-medium",children:"✓ Selected"})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-end gap-3",children:[(0,r.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm bg-white hover:bg-gray-50 border border-gray-300 hover:border-gray-400 text-gray-700 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{o&&i&&(s(i.selectionId,o),t())},disabled:!o,className:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-lg transition-all duration-200 font-medium shadow-md hover:shadow-lg disabled:cursor-not-allowed",children:"Replace Image"})]})]})})}function u(){let[e,a]=(0,l.useState)([]),[t,s]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),[f,b]=(0,l.useState)(""),[j,v]=(0,l.useState)(!1),[y,_]=(0,l.useState)(!1),[N,w]=(0,l.useState)("ALL"),[k,C]=(0,l.useState)([]),[I,R]=(0,l.useState)(null),[L,S]=(0,l.useState)(!1),[D,A]=(0,l.useState)({isOpen:!1,targetImage:null});(0,l.useEffect)(()=>{let e=n(),t=i();a(e),s(e),C(t)},[]),(0,l.useEffect)(()=>{"ALL"===N?s(e):s(e.filter(e=>e.letter===N))},[N,e]);let M=async a=>{S(!0);try{u([]),b("");let t=a.replace(/\s/g,"").split(""),r=[];t.forEach((a,t)=>{let l=e.filter(e=>e.letter===a);if(l.length>0){let e=l[Math.floor(Math.random()*l.length)],a={...e,selectionId:"".concat(e.id,"-").concat(Date.now(),"-").concat(Math.random(),"-").concat(t),selectionOrder:t+1};r.push(a)}}),u(r)}catch(e){console.error("Error generating from text:",e),alert("Error generating images from text. Please try again.")}finally{S(!1)}},P=e=>{u(a=>a.filter(a=>a.selectionId!==e).map((e,a)=>({...e,selectionOrder:a+1})))},B=(e,a)=>{e!==a&&u(t=>{let r=t.findIndex(a=>a.selectionId===e),l=t.findIndex(e=>e.selectionId===a);if(-1===r||-1===l)return t;let i=[...t],[n]=i.splice(r,1);return i.splice(l,0,n),i.map((e,a)=>({...e,selectionOrder:a+1}))})},E=(e,a)=>{e.dataTransfer.setData("text/plain",a),e.dataTransfer.effectAllowed="move",R(a)},z=()=>{R(null)},O=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},F=(e,a)=>{e.preventDefault(),B(e.dataTransfer.getData("text/plain"),a),R(null)};(0,l.useEffect)(()=>{let e=setTimeout(async()=>{if(0===c.length){b(""),_(!1);return}_(!0);try{let e=c.map(e=>e.src),a=await o(e,300);b(a)}catch(e){console.error("Error generating preview:",e)}finally{_(!1)}},150);return()=>clearTimeout(e)},[c]);let T=async()=>{if(0!==c.length){v(!0);try{let e=c.map(e=>e.src),a=await o(e,600),t="landsat-concatenated-".concat(Date.now(),".png");d(a,t)}catch(e){console.error("Error creating high-res image:",e),alert("Error creating high-res image. Please try again.")}finally{v(!1)}}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(p,{allImages:e,onGenerateFromText:M,isProcessing:L}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Filter by Letter"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)("button",{onClick:()=>w("ALL"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("ALL"===N?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"ALL"}),k.map(e=>(0,r.jsx)("button",{onClick:()=>w(e),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat(N===e?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:e},e))]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-3",children:["Showing ","ALL"===N?"all":"letter ".concat(N)," images (",t.length," total)"]})]}),c.length>0&&(0,r.jsx)(h,{selectedImages:c,onReorder:B,onRemove:P,onReplace:e=>{A({isOpen:!0,targetImage:e})},isProcessing:y}),(f||y)&&(0,r.jsx)(g,{imageUrl:f,isProcessing:y,selectedCount:c.length}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Selected: ",c.length," image",1!==c.length?"s":""]}),c.length>0&&(0,r.jsx)("button",{onClick:()=>{u([]),b("")},className:"px-4 py-2 text-sm bg-white hover:bg-gray-50 border border-gray-300 hover:border-gray-400 text-gray-700 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Clear All"})]}),(0,r.jsx)("div",{className:"flex space-x-3",children:c.length>0&&(0,r.jsx)("button",{onClick:T,disabled:j,className:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-lg transition-all duration-200 font-medium shadow-md hover:shadow-lg",children:j?"Generating...":"Download High-Res"})})]}),c.length>0&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-emerald-800 mb-3",children:"Selection Order (drag to reorder, click to replace):"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,r.jsxs)("span",{draggable:!0,onDragStart:a=>E(a,e.selectionId),onDragEnd:z,onDragOver:O,onDrop:a=>F(a,e.selectionId),onClick:()=>A({isOpen:!0,targetImage:e}),className:"px-3 py-2 bg-white text-emerald-800 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm border border-emerald-200 transition-all duration-200 cursor-pointer ".concat(I===e.selectionId?"shadow-xl scale-105 opacity-75 border-emerald-500":"hover:shadow-md hover:scale-105 hover:bg-emerald-50"),title:"Drag to reorder or click to replace",children:[(0,r.jsx)("span",{className:"text-gray-400 text-xs",children:"⋮⋮"}),(0,r.jsx)("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:e.selectionOrder}),e.name,(0,r.jsx)("button",{onClick:a=>{a.stopPropagation(),P(e.selectionId)},className:"ml-1 text-emerald-600 hover:text-emerald-800 hover:bg-emerald-100 rounded-full w-5 h-5 flex items-center justify-center font-bold text-sm transition-colors",title:"Remove this selection",children:"\xd7"})]},e.selectionId))}),(0,r.jsx)("p",{className:"text-xs text-emerald-600 mt-2",children:"\uD83D\uDCA1 Drag and drop to reorder • Click chips to replace images • Click \xd7 to remove"})]})]}),(0,r.jsx)(m,{images:t,selectedImages:c,onImageSelect:e=>{let a=c.find(a=>a.id===e.id);if(a)A({isOpen:!0,targetImage:a});else{let a={...e,selectionId:"".concat(e.id,"-").concat(Date.now(),"-").concat(Math.random()),selectionOrder:c.length+1};u(e=>[...e,a])}}}),(0,r.jsx)(x,{isOpen:D.isOpen,onClose:()=>{A({isOpen:!1,targetImage:null})},targetImage:D.targetImage,availableImages:e,onReplace:(e,a)=>{u(t=>t.map(t=>t.selectionId===e?{...a,selectionId:t.selectionId,selectionOrder:t.selectionOrder}:t))}})]})}function f(){let[e,a]=(0,l.useState)(!1),[t,i]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[(0,r.jsxs)("button",{onClick:()=>{a(!0),i(!0),setTimeout(()=>{a(!1),i(!1)},3e3)},className:"\n          relative w-12 h-12 bg-gradient-to-r from-pink-500 to-red-500 \n          rounded-full shadow-lg hover:shadow-xl transition-all duration-300\n          hover:scale-110 active:scale-95 group\n          ".concat(e?"animate-bounce":"hover:animate-pulse","\n        "),title:"Made with love by Renchen ❤️",children:[(0,r.jsx)("span",{className:"text-white text-xl group-hover:scale-125 transition-transform duration-200",children:"❤️"}),(0,r.jsx)("div",{className:"\n          absolute inset-0 rounded-full bg-pink-400 opacity-30\n          ".concat(e?"animate-ping":"","\n        ")})]}),(0,r.jsx)("div",{className:"\n        absolute bottom-16 right-0 transform transition-all duration-500 ease-out\n        ".concat(t?"translate-y-0 opacity-100 scale-100":"translate-y-4 opacity-0 scale-95 pointer-events-none","\n      "),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-xl border-2 border-pink-200 min-w-max",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"Made with love by"}),(0,r.jsx)("span",{className:"text-sm font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:"Renchen"}),(0,r.jsx)("span",{className:"text-red-500 ".concat(e?"animate-pulse":""),children:"❤️"})]})}),(0,r.jsx)("div",{className:"absolute bottom-0 right-4 transform translate-y-1/2",children:(0,r.jsx)("div",{className:"w-3 h-3 bg-white border-r-2 border-b-2 border-pink-200 rotate-45"})})]})}),e&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((e,a)=>(0,r.jsx)("div",{className:"absolute text-red-500 text-sm animate-bounce",style:{left:"".concat(40*Math.random()-20,"px"),top:"".concat(40*Math.random()-20,"px"),animationDelay:"".concat(.2*a,"s"),animationDuration:"2s"},children:"❤️"},a))})]})}function b(){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-800",children:"Landsat Image Concatenator"}),(0,r.jsx)("p",{className:"text-center text-gray-600 mb-8 max-w-2xl mx-auto",children:"Select landsat images by clicking on them. You can select the same image multiple times to repeat it in the sequence. Use the alphabet filter to narrow your choices, then drag and drop to reorder your selection. Watch the live preview update automatically as you make changes."}),(0,r.jsx)(u,{})]}),(0,r.jsx)(f,{})]})}},2936:(e,a,t)=>{Promise.resolve().then(t.bind(t,2855))}},e=>{var a=a=>e(e.s=a);e.O(0,[766,441,684,358],()=>a(2936)),_N_E=e.O()}]);